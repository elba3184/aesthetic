(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{125:function(e,a){},128:function(e,a,t){},129:function(e,a,t){},130:function(e,a,t){},135:function(e,a,t){},136:function(e,a,t){},137:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(62),c=t.n(r),s=(t(72),t(12)),o=t(1),i=t(2),m=t(4),u=t(3),p=t(5),d=t(33),h=t.n(d),g=t(63),E=t(14),f=t(17),v=t.n(f),b=t(8),N=(t(95),t(6)),w=(n.Component,t(20)),j=t.n(w),O=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(m.a)(this,Object(u.a)(a).call(this,e))).showCard=function(){return l.a.createElement("div",{className:"profile-card"},l.a.createElement("div",{className:"profile-info"},l.a.createElement("img",{src:t.state.imageUrl}),l.a.createElement("h1",null,"Name: ",t.state.first_name," ",t.state.last_name),l.a.createElement("h1",null,"username: ",t.state.username),l.a.createElement("p",null,t.state.bio),l.a.createElement("p",null,"I'm a ",t.state.userType),l.a.createElement("img",{src:"/images/img1.jpg"}),l.a.createElement("img",{src:"/images/img2.jpg"}),l.a.createElement("img",{src:"/images/img3.jpg"}),l.a.createElement("img",{src:"/images/img4.jpg"}),l.a.createElement("img",{src:"/images/img5.jpg"}),l.a.createElement("img",{src:"/images/img6.jpg"})))},t.state={error:null,isLoaded:!1,first_name:"",last_name:"",username:"",email:"",bio:"",location:"",userType:"",profilePhoto:"",modalState:!1},t.toggleModal=t.toggleModal.bind(Object(E.a)(t)),t}return Object(p.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=Object(g.a)(h.a.mark(function e(){var a;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.getLocalStorageUser();case 2:a=e.sent,this.setState({userId:a._id,first_name:a.first_name,last_name:a.last_name,username:a.username,email:a.email,bio:a.bio,location:a.location,userType:a.userType,imageUrl:a.imageUrl,isLoaded:!0});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"toggleModal",value:function(){this.setState(function(e,a){return{modalState:!e.modalState}})}},{key:"render",value:function(){var e=this.state,a=e.error,t=e.isLoaded;return a?l.a.createElement("div",null,"Error: ",a.message):t?l.a.createElement("div",null,this.showCard()):l.a.createElement("div",null,"Loading...")}}]),a}(n.Component),C=t(66),y=t(34),k=t.n(y),S=k()("http://localhost:5000"),U=function(e){function a(){var e;return Object(o.a)(this,a),(e=Object(m.a)(this,Object(u.a)(a).call(this))).typeMessage=function(a){e.setState({message:a.target.value})},e.sendChat=function(a){a.preventDefault(),console.log("in chat - this is the state ====>",e.state),S.emit("chat message",{please:e.state.message});var t=Object(C.a)(e.state.messages);t.push(e.state.message),e.setState({messages:t})},e.showChat=function(){return l.a.createElement("div",{class:"chat_window"},l.a.createElement("div",{class:"top_menu"},l.a.createElement("div",{class:"buttons"},l.a.createElement("div",{class:"button close"}),l.a.createElement("div",{class:"button minimize"}),l.a.createElement("div",{class:"button maximize"})),l.a.createElement("div",{class:"title"},"Chat")),l.a.createElement("ul",{id:"messages",class:"messages"}),l.a.createElement("div",{class:"bottom_wrapper clearfix"},l.a.createElement("i",{id:"typing"}),l.a.createElement("form",{id:"form",onSubmit:e.sendChat},l.a.createElement("div",{class:"message_input_wrapper"},l.a.createElement("input",{id:"message",class:"message_input",onChange:e.typeMessage,placeholder:"Type your message here..."})),l.a.createElement("button",{class:"send_message"},"Send"))))},e.state={response:!1,messages:[],endpoint:"http://127.0.0.1:5000"},e}return Object(p.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,a=this.state.endpoint,t=k()(a);console.log("mount"),t.removeListener("received"),t.on("received",function(a){console.log(a),e.setState({response:a})})}},{key:"render",value:function(){return l.a.createElement("div",null,this.showChat())}}]),a}(n.Component),L=(t(128),function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=Object(m.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).state={allUsers:[],currentUser:0},t.clickUpdate=function(e){t.addMatched(),console.log("the event",e),t.setState(Object(N.a)({},e.target.name,e.target.value))},t.getOneUser=function(e){var a=e._id;v.a.get("".concat(j.a,"/matched:").concat(a)).then(function(e){t.setState({currentUser:1})}).catch(function(e){return console.log(e)})},t.displayMatched=function(){return l.a.createElement("div",null,l.a.createElement("button",{className:"like-button"},l.a.createElement("a",{className:"button",onClick:t.clickUpdate()},"Submit")))},t.showAllUsers=function(){v.a.get("".concat(j.a,"/allUsers"),{withCredentials:!0}).then(function(e){t.setState({allUsers:e.data.allUsersFromDB})}).catch(function(e){return console.log(e)})},t.showEachUser=function(){return console.log(t.state.allUsers),t.state.allUsers.map(function(e,a){return l.a.createElement("div",{className:"box"},l.a.createElement("article",{className:"media"},l.a.createElement("div",{className:"media-left"},l.a.createElement("figure",{className:"image is-64x64"},l.a.createElement("img",{src:e.imageUrl,width:"100px",height:"80px"}))),l.a.createElement("div",{className:"media-content"},l.a.createElement("div",{className:"content"},l.a.createElement("p",null,l.a.createElement("strong",null,e.username)," ",l.a.createElement("br",null),l.a.createElement("small",null,e.first_name," ",e.last_name)),l.a.createElement("p",null," ",e.email," "),l.a.createElement("p",null,e.userType," "),l.a.createElement("p",null,e.bio),l.a.createElement("button",{className:"match"},l.a.createElement("span",null,l.a.createElement("a",{href:"/",className:"match"},"Nope"))),l.a.createElement("br",null),l.a.createElement("button",{className:"match"},l.a.createElement("span",null,l.a.createElement("a",{href:"/",className:"match"},"Definitely!")))))))})},t.showUserCards=function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"all-users"},l.a.createElement("p",null,l.a.createElement("li",null,t.showEachUser()))))},t}return Object(p.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){this.showAllUsers()}},{key:"render",value:function(){return l.a.createElement("div",{class:"people-stuff"},l.a.createElement("p",{className:"people-title"},"Aesthetic Users"),this.showUserCards(),l.a.createElement(U,null))}}]),a}(n.Component)),I=t(15),_=(t(129),function(e){function a(){return Object(o.a)(this,a),Object(m.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(p.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{id:"Home"},l.a.createElement("div",{className:"home-main"},l.a.createElement("div",{className:"home-content"},l.a.createElement("h1",null,"WELCOME TO AESTHETIC"),l.a.createElement("br",null),l.a.createElement("p",{class:"home-head"},"Aesthetic was created with the purpose of linking creative people together through means outside of word of mouth. You can see other user's portfolios, match with them, and private message them once you've matched."),l.a.createElement("br",null),l.a.createElement("p",null,"Start by "),l.a.createElement("button",{className:"btn1"},l.a.createElement("span",null,l.a.createElement("a",{href:"/signup",className:"in-home"},"Creating an account")))),l.a.createElement("br",null)))}}]),a}(n.Component)),x=(t(130),function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(m.a)(this,Object(u.a)(a).call(this,e))).state={username:"",password:"",message:null},t.handleInputChange=t.handleInputChange.bind(Object(E.a)(t)),t}return Object(p.a)(a,e),Object(i.a)(a,[{key:"handleInputChange",value:function(e){this.setState(Object(N.a)({},e.target.name,e.target.value))}},{key:"handleClick",value:function(e){var a=this;e.preventDefault(),b.a.login(this.state.username,this.state.password).then(function(e){console.log("SUCCESS!"),a.props.checkLogin(),a.props.history.push("/allUsers")}).catch(function(e){return a.setState({message:e.toString()})})}},{key:"render",value:function(){var e,a,t=this;return l.a.createElement("div",{className:"limiter"},l.a.createElement("div",{className:"wrap-login100"},l.a.createElement("div",{className:"container-login100"},l.a.createElement("div",{className:"wrap-login100 p-l-55 p-r-55 p-t-65 p-b-54"},l.a.createElement("div",{className:"whole-login"},l.a.createElement("form",{className:"login100-form validate-form"},l.a.createElement("span",{className:"login100-form-title p-b-49"},"Login"),l.a.createElement("div",{className:"wrap-input100 validate-input m-b-23","data-validate":"Username is required"},l.a.createElement("span",{className:"label-input100"},"Username"),l.a.createElement("input",(e={className:"input100",type:"text"},Object(N.a)(e,"type","text"),Object(N.a)(e,"value",this.state.username),Object(N.a)(e,"name","username"),Object(N.a)(e,"onChange",this.handleInputChange),Object(N.a)(e,"placeholder","Username"),e)),l.a.createElement("span",{className:"focus-input100","data-symbol":"\uf206"})),l.a.createElement("div",{className:"wrap-input100 validate-input","data-validate":"Password is required"},l.a.createElement("span",{className:"label-input100"},"Password"),l.a.createElement("input",(a={className:"input100",type:"password"},Object(N.a)(a,"type","password"),Object(N.a)(a,"value",this.state.password),Object(N.a)(a,"name","password"),Object(N.a)(a,"onChange",this.handleInputChange),Object(N.a)(a,"placeholder","********"),a)),l.a.createElement("span",{className:"focus-input100","data-symbol":"\uf190"})),l.a.createElement("div",{className:"text-right p-t-8 p-b-31"},l.a.createElement("a",{href:"#"},"Forgot password?")),l.a.createElement("div",{className:"container-login100-form-btn"},l.a.createElement("div",{className:"wrap-login100-form-btn"},l.a.createElement("div",{className:"login100-form-bgbtn"}),l.a.createElement("button",{className:"login100-form-btn",onClick:function(e){return t.handleClick(e)}},"Login"))),l.a.createElement("div",{className:"flex-col-c p-t-155"},l.a.createElement("span",{className:"txt1 p-b-17"},"Or"),l.a.createElement(s.b,{className:"nav-link",to:"/signup"},l.a.createElement("li",{className:"create-account"},"Create an account")))))))))}}]),a}(n.Component)),T=(t(135),function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(m.a)(this,Object(u.a)(a).call(this,e))).handleFileUpload=function(e){console.log("The file to be uploaded is: ",e.target.files[0]);var a=new FormData;a.append("imageUrl",e.target.files[0]),b.a.handleUpload(a).then(function(e){t.setState({imageUrl:e.secure_url},function(){console.log("THE STATE IS:",t.state)})}).catch(function(e){console.log("Error while uploading the file: ",e)})},t.handleClick=function(e){e.preventDefault();var a={first_name:t.state.first_name,last_name:t.state.last_name,username:t.state.username,password:t.state.password,email:t.state.email,imageUrl:t.state.imageUrl,bio:t.state.bio,location:t.state.location,userType:t.state.userType,artwork:t.state.artwork};console.log("This is the data =>",a),b.a.signup(a).then(function(e){console.log("SUCCESSFULLY SIGNED UP!"),t.props.checkLogin(),t.props.history.push("/login")}).catch(function(e){return t.setState({message:e.toString()})})},t.handleSubmit=function(e){e.preventDefault(),b.a.saveNewThing(t.state).then(function(e){console.log("added: ",e)}).catch(function(e){console.log("Error while adding the thing: ",e)})},t.addPhotoForm=function(){return l.a.createElement("div",null,l.a.createElement("h2",null,"Upload Profile Photo"),l.a.createElement("form",{onSubmit:function(e){return t.handleSubmit(e)}},l.a.createElement("div",{className:"p-t-15"},l.a.createElement("input",{type:"file",onChange:function(e){return t.handleFileUpload(e)}}),l.a.createElement("button",{type:"submit"},"Upload"))))},t.displaySignup=function(){var e;return l.a.createElement("div",null,l.a.createElement("div",{className:"page-wrapper bg-gra-02 p-t-130 p-b-100 font-poppins"},l.a.createElement("div",{className:"wrapper wrapper--w680"},l.a.createElement("div",{className:"card card-4"},l.a.createElement("div",{className:"card-body"},l.a.createElement("h2",{className:"title"},"Create an Account"),l.a.createElement("form",{method:"POST"},l.a.createElement("div",{className:"row row-space"},l.a.createElement("div",{className:"col-2"},l.a.createElement("div",{className:"input-group"},l.a.createElement("label",{className:"label"},"first name"),l.a.createElement("input",{className:"input",type:"text",name:"first_name",placeholder:"Ex. Elba",value:t.state.first_name,onChange:function(e){return t.handleInputChange(e)}}))),l.a.createElement("div",{className:"col-2"},l.a.createElement("div",{className:"input-group"},l.a.createElement("label",{className:"label"},"last name"),l.a.createElement("input",{className:"input",type:"text",name:"last_name",placeholder:"Ex. Chimilio",value:t.state.last_name,onChange:function(e){return t.handleInputChange(e)}})))),l.a.createElement("div",{className:"col-2"},l.a.createElement("div",{className:"input-group"},l.a.createElement("label",{className:"label"},"username"),l.a.createElement("input",{className:"input",type:"text",name:"username",placeholder:"Ex. elbachimilio",value:t.state.username,onChange:function(e){return t.handleInputChange(e)}}))),l.a.createElement("div",{className:"col-2"},l.a.createElement("div",{className:"input-group"},l.a.createElement("label",{className:"label"},"password"),l.a.createElement("input",{className:"input",type:"password",name:"password",placeholder:"***********",value:t.state.password,onChange:function(e){return t.handleInputChange(e)}}))),l.a.createElement("div",{className:"row row-space"},l.a.createElement("div",{className:"col-2"},l.a.createElement("div",{className:"input-group"},l.a.createElement("label",{className:"label"},"Email"),l.a.createElement("input",{className:"input",type:"email",name:"email",placeholder:"Ex. elbachimilio@gmail.com",value:t.state.email,onChange:function(e){return t.handleInputChange(e)}})))),l.a.createElement("div",{className:"input-group"},l.a.createElement("label",{className:"label"},"Profession   "),l.a.createElement("div",{className:"rs-select2 js-select-simple select--no-search"},l.a.createElement("select",{onChange:function(e){return t.setState({userType:e.target.value})},value:t.state.userType},l.a.createElement("option",null,"Photographer"),l.a.createElement("option",null,"Model"),l.a.createElement("option",null,"Stylist")),l.a.createElement("div",{className:"select-dropdown"}))),l.a.createElement("div",{className:"col-2"},l.a.createElement("div",{className:"input-group"},l.a.createElement("label",{className:"label"},"Bio"),l.a.createElement("textarea",(e={className:"textarea",value:"bio",name:"bio",placeholder:"This is an amazing website. Good job Elba! You are so cool! "},Object(N.a)(e,"value",t.state.bio),Object(N.a)(e,"onChange",function(e){return t.handleInputChange(e)}),e)))),t.addPhotoForm(),l.a.createElement("div",{className:"p-t-15"},l.a.createElement("button",{className:"button is-link",onClick:function(e){return t.handleClick(e)}},"Sign  up"))))))))},t.state={first_name:"",last_name:"",username:"",password:"",email:"",bio:"",location:"",userType:"Photographer",imageUrl:"",artwork:[],name:"",description:""},t.handleInputChange=t.handleInputChange.bind(Object(E.a)(t)),t}return Object(p.a)(a,e),Object(i.a)(a,[{key:"handleInputChange",value:function(e){this.setState(Object(N.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){return l.a.createElement("div",null,this.displaySignup())}}]),a}(n.Component)),D=function(e){function a(){return Object(o.a)(this,a),Object(m.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(p.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,"You've matched with BLANK Check out their portfolio You can now message and book time with them.")}}]),a}(n.Component),P=(t(136),function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(m.a)(this,Object(u.a)(a).call(this,e))).checkLogin=function(){b.a.checkLogin().then(function(e){console.log("the user",e),t.setState({user:e})})},t.state={user:null},t}return Object(p.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){this.checkLogin()}},{key:"handleLogoutClick",value:function(e){b.a.logout().then(this.checkLogin)}},{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement("nav",{className:"navbar navbar-expand-lg fixed-top"},l.a.createElement(s.b,{className:"navbar-brand",to:"/"},l.a.createElement("img",{src:"../images/logo.png",width:"112",height:"28","margin-left":"30px"})),l.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"navbar-toggler-icon"})),l.a.createElement("div",{className:"collapse navbar-collapse justify-content-end",id:"navbarNavDropdown"},l.a.createElement("ul",{className:"navbar-nav"},!b.a.isLoggedIn()&&l.a.createElement(s.b,{className:"nav-link",to:"/signup"},l.a.createElement("li",{className:"nav-item active"},"Create an Account")),!b.a.isLoggedIn()&&l.a.createElement(s.b,{className:"nav-link",to:"/login"},l.a.createElement("li",{className:"nav-item"},"Login")),b.a.isLoggedIn()&&l.a.createElement(s.b,{className:"nav-link",to:"/allUsers"},l.a.createElement("li",{className:"nav-item active"},"All Users")),b.a.isLoggedIn()&&l.a.createElement(s.b,{className:"nav-link",to:"/profile"},l.a.createElement("li",{className:"nav-item active"},"Profile")),b.a.isLoggedIn()&&l.a.createElement(s.b,{className:"nav-link",to:"/",onClick:function(a){return e.handleLogoutClick(a)}},l.a.createElement("li",{className:"nav-item active"},"Logout"))))),l.a.createElement(I.c,null,l.a.createElement(I.a,{path:"/",exact:!0,component:function(e){return l.a.createElement(_,e)}}),l.a.createElement(I.a,{path:"/signup",component:function(a){return l.a.createElement(T,Object.assign({checkLogin:e.checkLogin},a))}}),l.a.createElement(I.a,{path:"/login",component:function(a){return l.a.createElement(x,Object.assign({checkLogin:e.checkLogin},a))}}),l.a.createElement(I.a,{path:"/profile",component:function(a){return l.a.createElement(O,Object.assign({checkLogin:e.checkLogin},a))}}),l.a.createElement(I.a,{path:"/allUsers",component:function(e){return l.a.createElement(L,e)}}),l.a.createElement(I.a,{path:"/match",component:function(e){return l.a.createElement(D,e)}}),l.a.createElement(I.a,{render:function(){return l.a.createElement("h2",null,"404")}})))}}]),a}(n.Component)),A=function(e){function a(){return Object(o.a)(this,a),Object(m.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(p.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(P,null))}}]),a}(n.Component);c.a.render(l.a.createElement(s.a,null,l.a.createElement(A,null)),document.getElementById("root"))},20:function(e,a,t){var n="";n="/api",e.exports=n},67:function(e,a,t){e.exports=t(137)},8:function(e,a,t){"use strict";(function(e){var n=t(17),l=t.n(n),r=(t(90),t(20),t(46));t(93).config({path:r.join(e,".env")});var c=l.a.create({baseURL:"/api",withCredentials:!0}),s=function(e){if(console.error(e),e.response&&e.response.data)throw console.error("API response",e.response.data),e.response.data.message;throw e};a.a={service:c,checkLogin:function(){return c.get("/checkLogin").then(function(e){return e.data}).catch(s)},isLoggedIn:function(){return null!=localStorage.getItem("user")},getLocalStorageUser:function(){return JSON.parse(localStorage.getItem("user"))},signup:function(e){return c.post("/signup",e).then(function(e){return localStorage.setItem("user",JSON.stringify(e.data)),e.data}).catch(s)},login:function(e,a){return console.log("the log in --- ",e,a),c.post("/login",{username:e,password:a}).then(function(e){return localStorage.setItem("user",JSON.stringify(e.data)),e.data}).catch(s)},logout:function(){return localStorage.removeItem("user"),c.get("/logout")},getSecret:function(){return c.get("/secret").then(function(e){return e.data}).catch(s)},addPicture:function(e){var a=new FormData;return a.append("picture",e),c.post("/endpoint/to/add/a/picture",a,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){return e.data}).catch(s)},handleUpload:function(e){return c.post("/upload",e).then(function(e){return e.data}).catch(s)},saveNewThing:function(e){return c.post("/things/create",e).then(function(e){return e.data}).catch(s)}},console.log("IN PROCESS.ENV",Object({NODE_ENV:"production",PUBLIC_URL:""}))}).call(this,"/")},95:function(e,a,t){}},[[67,1,2]]]);
//# sourceMappingURL=main.c5bb5090.chunk.js.map