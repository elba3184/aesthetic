{"ast":null,"code":"import _regeneratorRuntime from \"/Users/elba/Desktop/final-project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/elba/Desktop/final-project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/elba/Desktop/final-project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/elba/Desktop/final-project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/elba/Desktop/final-project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/elba/Desktop/final-project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/elba/Desktop/final-project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/elba/Desktop/final-project/client/src/components/pages/Profile.jsx\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\n\nvar Profile =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Profile, _Component);\n\n  function Profile() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Profile);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Profile)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      error: null,\n      isLoaded: false,\n      username: undefined,\n      name: undefined,\n      profile_img: undefined,\n      userInfo: ''\n    };\n\n    _this.componentDidMount = function () {\n      _this.getUser();\n    };\n\n    _this.getUser =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(username) {\n        var userInfo;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                username = \"elbachimilio\";\n                _context.prev = 1;\n                _context.next = 4;\n                return axios.get(\"http://localhost:5000/api/users/\".concat(username));\n\n              case 4:\n                userInfo = _context.sent;\n\n                _this.setState({\n                  userInfo: userInfo,\n                  isLoaded: true\n                });\n\n                _context.next = 11;\n                break;\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context[\"catch\"](1);\n                console.log(_context.t0);\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[1, 8]]);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.showUserInfo = function (userInfo) {\n      var currentUser = userInfo.map(function (user) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 34\n          },\n          __self: this\n        }, React.createElement(\"ul\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 35\n          },\n          __self: this\n        }, React.createElement(\"li\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 36\n          },\n          __self: this\n        }, user.data.name)));\n      });\n      return currentUser;\n    };\n\n    return _this;\n  }\n\n  _createClass(Profile, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          error = _this$state.error,\n          isLoaded = _this$state.isLoaded,\n          items = _this$state.items;\n\n      if (error) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48\n          },\n          __self: this\n        }, \"Error: \", error.message);\n      } else if (!isLoaded) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50\n          },\n          __self: this\n        }, \"Loading...\");\n      } else {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53\n          },\n          __self: this\n        }, this.showUserInfo(JSON.stringify(this.state.userInfo))) // <ul>\n        //   <li>{JSON.stringify(this.state.userInfo)}</li>\n        // </ul>\n        ;\n      }\n    }\n  }]);\n\n  return Profile;\n}(Component);\n\nexport default Profile; // const passport = require('passport')\n// const LocalStrategy = require('passport-local').Strategy\n// const User = require('../models/User')\n// const bcrypt = require('bcrypt')\n// passport.use(\n//   new LocalStrategy(\n//     {\n//       usernameField: 'username',\n//       passwordField: 'password',\n//     },\n//     (username, password, done) => {\n//       User.findOne({ username })\n//         .then(foundUser => {\n//           if (!foundUser) {\n//             done(null, false, { message: 'Incorrect username' })\n//             return\n//           }\n//           if (!bcrypt.compareSync(password, foundUser.password)) {\n//             done(null, false, { message: 'Incorrect password' })\n//             return\n//           }\n//           done(null, foundUser)\n//         })\n//         .catch(err => done(err))\n//     }","map":{"version":3,"sources":["/Users/elba/Desktop/final-project/client/src/components/pages/Profile.jsx"],"names":["React","Component","axios","Profile","state","error","isLoaded","username","undefined","name","profile_img","userInfo","componentDidMount","getUser","get","setState","console","log","showUserInfo","currentUser","map","user","data","items","message","JSON","stringify"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;;IAEMC,O;;;;;;;;;;;;;;;;;UACJC,K,GAAQ;AACNC,MAAAA,KAAK,EAAE,IADD;AAENC,MAAAA,QAAQ,EAAE,KAFJ;AAGNC,MAAAA,QAAQ,EAAEC,SAHJ;AAINC,MAAAA,IAAI,EAAED,SAJA;AAKNE,MAAAA,WAAW,EAAEF,SALP;AAMNG,MAAAA,QAAQ,EAAE;AANJ,K;;UASRC,iB,GAAoB,YAAM;AACxB,YAAKC,OAAL;AACD,K;;UAEDA,O;;;;;+BAAU,iBAAON,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACRA,gBAAAA,QAAQ,GAAG,cAAX;AADQ;AAAA;AAAA,uBAGiBL,KAAK,CAACY,GAAN,2CAA6CP,QAA7C,EAHjB;;AAAA;AAGAI,gBAAAA,QAHA;;AAIN,sBAAKI,QAAL,CAAc;AACZJ,kBAAAA,QAAQ,EAARA,QADY;AAEZL,kBAAAA,QAAQ,EAAE;AAFE,iBAAd;;AAJM;AAAA;;AAAA;AAAA;AAAA;AASNU,gBAAAA,OAAO,CAACC,GAAR;;AATM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;UAaVC,Y,GAAe,UAACP,QAAD,EAAc;AAC3B,UAAIQ,WAAW,GAAGR,QAAQ,CAACS,GAAT,CAAa,UAAAC,IAAI,EAAI;AACrC,eACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAKA,IAAI,CAACC,IAAL,CAAUb,IAAf,CADF,CADF,CADF;AAOD,OARiB,CAAlB;AASA,aAAOU,WAAP;AAED,K;;;;;;;6BAEQ;AAAA,wBAC4B,KAAKf,KADjC;AAAA,UACCC,KADD,eACCA,KADD;AAAA,UACQC,QADR,eACQA,QADR;AAAA,UACkBiB,KADlB,eACkBA,KADlB;;AAEP,UAAIlB,KAAJ,EAAW;AACT,eAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAaA,KAAK,CAACmB,OAAnB,CAAP;AACD,OAFD,MAEO,IAAI,CAAClB,QAAL,EAAe;AACpB,eAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAP;AACD,OAFM,MAEA;AACL,eACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACG,KAAKY,YAAL,CAAkBO,IAAI,CAACC,SAAL,CAAe,KAAKtB,KAAL,CAAWO,QAA1B,CAAlB,CADH,CADF,CAIE;AACA;AACA;AANF;AAQD;AACF;;;;EAzDmBV,S;;AA4DtB,eAAeE,OAAf,C,CAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\n\nclass Profile extends Component {\n  state = {\n    error: null,\n    isLoaded: false,\n    username: undefined,\n    name: undefined,\n    profile_img: undefined,\n    userInfo: ''\n  };\n\n  componentDidMount = () => {\n    this.getUser()\n  }\n\n  getUser = async (username) => {\n    username = \"elbachimilio\";\n    try {\n      const userInfo = await axios.get(`http://localhost:5000/api/users/${username}`)\n      this.setState({\n        userInfo,\n        isLoaded: true\n      })\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  showUserInfo = (userInfo) => {\n    let currentUser = userInfo.map(user => {\n      return (\n        <div>\n          <ul>\n            <li>{user.data.name}</li>\n          </ul>\n        </div>\n      )\n    })\n    return currentUser\n\n  }\n\n  render() {\n    const { error, isLoaded, items } = this.state;\n    if (error) {\n      return <div>Error: {error.message}</div>;\n    } else if (!isLoaded) {\n      return <div>Loading...</div>;\n    } else {\n      return (\n        <div>\n          {this.showUserInfo(JSON.stringify(this.state.userInfo))}\n        </div>\n        // <ul>\n        //   <li>{JSON.stringify(this.state.userInfo)}</li>\n        // </ul>\n      );\n    }\n  }\n}\n\nexport default Profile;\n\n// const passport = require('passport')\n// const LocalStrategy = require('passport-local').Strategy\n// const User = require('../models/User')\n// const bcrypt = require('bcrypt')\n\n// passport.use(\n//   new LocalStrategy(\n//     {\n//       usernameField: 'username',\n//       passwordField: 'password',\n//     },\n//     (username, password, done) => {\n//       User.findOne({ username })\n//         .then(foundUser => {\n//           if (!foundUser) {\n//             done(null, false, { message: 'Incorrect username' })\n//             return\n//           }\n\n//           if (!bcrypt.compareSync(password, foundUser.password)) {\n//             done(null, false, { message: 'Incorrect password' })\n//             return\n//           }\n\n//           done(null, foundUser)\n//         })\n//         .catch(err => done(err))\n//     }\n"]},"metadata":{},"sourceType":"module"}