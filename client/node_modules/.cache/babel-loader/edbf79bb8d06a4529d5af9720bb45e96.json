{"ast":null,"code":"import _classCallCheck from \"/Users/elba/Desktop/final-project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/elba/Desktop/final-project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/elba/Desktop/final-project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/elba/Desktop/final-project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/elba/Desktop/final-project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/elba/Desktop/final-project/client/src/components/pages/Chat.jsx\";\nimport { Component } from \"react\";\nimport React from \"react\";\n\nvar Chat =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Chat, _Component);\n\n  function Chat() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Chat);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Chat)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.testFunction = function () {\n      var socket = io();\n      var messages = document.getElementById(\"messages\");\n\n      (function () {\n        $(\"form\").submit(function (e) {\n          var li = document.createElement(\"li\");\n          e.preventDefault(); // prevents page reloading\n\n          socket.emit(\"chat message\", $(\"#message\").val());\n          messages.appendChild(li).append($(\"#message\").val());\n          var span = document.createElement(\"span\");\n          messages.appendChild(span).append(\"by \" + data.sender + \": \" + \"just now\");\n          $(\"#message\").val(\"\");\n          return false;\n        });\n        socket.on(\"received\", function (data) {\n          var li = document.createElement(\"li\");\n          var span = document.createElement(\"span\");\n          var messages = document.getElementById(\"messages\");\n          messages.appendChild(li).append(data.message);\n          messages.appendChild(span).append(\"by \" + \"anonymous\" + \": \" + \"just now\");\n          console.log(\"Hello bingo!\");\n        });\n      })(); // fetching initial chat messages from the database\n\n\n      (function () {\n        fetch(\"/chats\").then(function (data) {\n          return data.json();\n        }).then(function (json) {\n          json.map(function (data) {\n            var li = document.createElement(\"li\");\n            var span = document.createElement(\"span\");\n            messages.appendChild(li).append(data.message);\n            messages.appendChild(span).append(\"by \" + data.sender + \": \" + formatTimeAgo(data.createdAt));\n          });\n        });\n      })(); //is typing...\n\n\n      var messageInput = document.getElementById(\"message\");\n      var typing = document.getElementById(\"typing\"); //isTyping event\n\n      messageInput.addEventListener(\"keypress\", function () {\n        socket.emit(\"typing\", {\n          user: \"Someone\",\n          message: \"is typing...\"\n        });\n      });\n      socket.on(\"notifyTyping\", function (data) {\n        typing.innerText = data.user + \" \" + data.message;\n        console.log(data.user + data.message);\n      }); //stop typing\n\n      messageInput.addEventListener(\"keyup\", function () {\n        socket.emit(\"stopTyping\", \"\");\n      });\n      socket.on(\"notifyStopTyping\", function () {\n        typing.innerText = \"\";\n      });\n    };\n\n    _this.showChat = function () {\n      return React.createElement(\"div\", {\n        class: \"chat_window\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"top_menu\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"buttons\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"button close\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        class: \"button minimize\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        class: \"button maximize\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        class: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, \"Chat\")), React.createElement(\"ul\", {\n        id: \"messages\",\n        class: \"messages\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        class: \"bottom_wrapper clearfix\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        id: \"typing\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }), React.createElement(\"form\", {\n        id: \"form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"message_input_wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        id: \"message\",\n        class: \"message_input\",\n        placeholder: \"Type your message here...\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        class: \"send_message\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, \"Send\"))));\n    };\n\n    return _this;\n  }\n\n  _createClass(Chat, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, this.showChat());\n    }\n  }]);\n\n  return Chat;\n}(Component);\n\nexport default Chat;","map":{"version":3,"sources":["/Users/elba/Desktop/final-project/client/src/components/pages/Chat.jsx"],"names":["Component","React","Chat","testFunction","socket","io","messages","document","getElementById","$","submit","e","li","createElement","preventDefault","emit","val","appendChild","append","span","data","sender","on","message","console","log","fetch","then","json","map","formatTimeAgo","createdAt","messageInput","typing","addEventListener","user","innerText","showChat"],"mappings":"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","sourcesContent":["import { Component } from \"react\";\nimport React from \"react\";\n\nclass Chat extends Component {\n\n\n  testFunction = () => {\n    var socket = io();\nvar messages = document.getElementById(\"messages\");\n\n(function() {\n  $(\"form\").submit(function(e) {\n    let li = document.createElement(\"li\");\n    e.preventDefault(); // prevents page reloading\n    socket.emit(\"chat message\", $(\"#message\").val());\n\n    messages.appendChild(li).append($(\"#message\").val());\n    let span = document.createElement(\"span\");\n    messages.appendChild(span).append(\"by \" + (data.sender) + \": \" + \"just now\");\n\n    $(\"#message\").val(\"\");\n\n    return false;\n  });\n\n  socket.on(\"received\", data => {\n    let li = document.createElement(\"li\");\n    let span = document.createElement(\"span\");\n    var messages = document.getElementById(\"messages\");\n    messages.appendChild(li).append(data.message);\n    messages.appendChild(span).append(\"by \" + \"anonymous\" + \": \" + \"just now\");\n    console.log(\"Hello bingo!\");\n  });\n})();\n\n// fetching initial chat messages from the database\n(function() {\n  fetch(\"/chats\")\n    .then(data => {\n      return data.json();\n    })\n    .then(json => {\n      json.map(data => {\n        let li = document.createElement(\"li\");\n        let span = document.createElement(\"span\");\n        messages.appendChild(li).append(data.message);\n        messages\n          .appendChild(span)\n          .append(\"by \" + data.sender + \": \" + formatTimeAgo(data.createdAt));\n      });\n    });\n})();\n\n//is typing...\n\nlet messageInput = document.getElementById(\"message\");\nlet typing = document.getElementById(\"typing\");\n\n//isTyping event\nmessageInput.addEventListener(\"keypress\", () => {\n  socket.emit(\"typing\", { user: \"Someone\", message: \"is typing...\" });\n});\n\nsocket.on(\"notifyTyping\", data => {\n  typing.innerText = data.user + \" \" + data.message;\n  console.log(data.user + data.message);\n});\n\n//stop typing\nmessageInput.addEventListener(\"keyup\", () => {\n  socket.emit(\"stopTyping\", \"\");\n});\n\nsocket.on(\"notifyStopTyping\", () => {\n  typing.innerText = \"\";\n});\n  }\n  showChat = () => {\n    return (\n      <div class=\"chat_window\">\n        <div class=\"top_menu\">\n          <div class=\"buttons\">\n            <div class=\"button close\"></div>\n            <div class=\"button minimize\"></div>\n            <div class=\"button maximize\"></div>\n          </div>\n          <div class=\"title\">Chat</div>\n        </div>\n        <ul id=\"messages\" class=\"messages\">\n\n        </ul>\n        <div class=\"bottom_wrapper clearfix\">\n          <i id=\"typing\"></i>\n          <form id=\"form\">\n            <div class=\"message_input_wrapper\">\n              <input id=\"message\" class=\"message_input\" placeholder=\"Type your message here...\" />\n            </div>\n            <button class=\"send_message\">\n              Send\n        </button>\n          </form>\n        </div>\n        </div>\n        )\n      }\n  render() {\n    return (\n      <div>\n          {this.showChat()}\n        </div>\n        )\n      }\n    }\n    \nexport default Chat;"]},"metadata":{},"sourceType":"module"}